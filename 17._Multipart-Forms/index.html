<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Multipart forms</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
</head>

<body>
    <h2>Basic Form</h2>

    <form action="http://localhost:8080/form" method="post">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" /><br>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" /><br>
        <input type="submit"></button>
    </form>
    <h2>File Form</h2>
    <form action="http://localhost:8080/fileform" method="post" enctype="multipart/form-data">
        <label for="file">File</label>
        <input type="file" id="file-input" name="file" accept="image/*" /><br>

        <!-- <label for="description">description</label>
        <input type="text" id="description" name="description" /><br> -->

        <input type="submit"></button>
    </form>


    <script>
        const fileInput = document.getElementById("file-input");
        
        fileInput.addEventListener("change", (event) => {
            const file = event.target.files[0];
            const validtypes = ["image/jpeg","image/jpg","image/png","image/svg",];
            if (!validtypes.includes(file.type))
            {
                alert("u stoopid, ur fil WRONG");
                fileInput.value = "";
                return;
            }
            if (file.size > 1 * 1024 * 1024)
            {
                alert("u real stoopid, ur fil too BIG");
                return;
            }
            console.log(file);

        });

    </script>
</body>

</html>